<?php  class acf_admin { function __construct() { add_action('admin_menu', array($this, 'admin_menu')); add_action('admin_enqueue_scripts', array($this, 'admin_enqueue_scripts'), 0); add_action('admin_notices', array($this, 'admin_notices')); } function admin_menu() { if( !acf_get_setting('show_admin') ) { return; } $slug = 'edit.php?post_type=acf-field-group'; $cap = acf_get_setting('capability'); add_menu_page(__("Custom Fields",'acf'), __("Custom Fields",'acf'), $cap, $slug, false, 'dashicons-welcome-widgets-menus', '80.025'); add_submenu_page($slug, __('Field Groups','acf'), __('Field Groups','acf'), $cap, $slug ); add_submenu_page($slug, __('Add New','acf'), __('Add New','acf'), $cap, 'post-new.php?post_type=acf-field-group' ); } function admin_enqueue_scripts() { wp_enqueue_style( 'acf-global' ); } function admin_notices() { $admin_notices = acf_get_admin_notices(); if( empty($admin_notices) ) { return; } foreach( $admin_notices as $notice ) { $open = ''; $close = ''; if( $notice['wrap'] ) { $open = "<{$notice['wrap']}>"; $close = "</{$notice['wrap']}>"; } ?>
			<div class="<?php echo $notice['class']; ?>"><?php echo $open . $notice['text'] . $close; ?></div>
			<?php
 } } } new acf_admin(); ?>

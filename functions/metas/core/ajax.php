<?php
 if( ! class_exists('acf_ajax') ) : class acf_ajax { function __construct() { add_action( 'wp_ajax_acf/update_user_setting', array($this, 'update_user_setting') ); add_action( 'wp_ajax_nopriv_acf/update_user_setting', array($this, 'update_user_setting') ); } function update_user_setting() { $options = acf_parse_args( $_POST, array( 'name' => '', 'value' => '', 'nonce' => '', )); if( ! wp_verify_nonce($options['nonce'], 'acf_nonce') || empty($options['name']) ) { die('0'); } acf_update_user_setting( $options['name'], $options['value'] ); die('1'); } } new acf_ajax(); endif; ?>

function collapse(e){var t=e.target,s=t.parentNode.getElementsByClassName("collapsible");if(s.length){if(s=s[0],"none"===s.style.display){var i=s.parentNode.getElementsByClassName("ellipsis")[0];s.parentNode.removeChild(i),s.style.display=""}else{s.style.display="none";var i=document.createElement("span");i.className="ellipsis",i.innerHTML=" &hellip; ",s.parentNode.insertBefore(i,s)}t.innerHTML="-"===t.innerHTML?"+":"-"}}function addCollapser(e){if("LI"===e.nodeName){var t=document.createElement("div");t.className="collapser",t.innerHTML="-",t.addEventListener("click",collapse,!1),e.insertBefore(t,e.firstChild)}}function jsonView(e,t){function s(){}if(this.debug=!1,-1!==e.indexOf("#"))this.idType="id",this.id=e.replace("#","");else{if(-1===e.indexOf("."))return this.debug&&console.log("Can't find that element"),void 0;this.idType="class",this.id=e.replace(".","")}if(this.data=document.getElementById(this.id).innerHTML,void 0!==typeof t)if(-1!==t.indexOf("#"))this.targetType="id",this.target=t.replace("#","");else{if(-1===e.indexOf("."))return this.debug&&console.log("Can't find the target element"),void 0;this.targetType="class",this.target=t.replace(".","")}/^\<pre.*\>(.*)\<\/pre\>$/.test(this.data)&&(this.debug&&console.log("JSONView: data is wrapped in <pre>...</pre>, stripping HTML..."),this.data=this.data.replace(/<(?:.|\s)*?>/g,""));var i=/^\s*([\[\{].*[\}\]])\s*$/,o=/^[\s\u200B\uFEFF]*([\w$\[\]\.]+)[\s\u200B\uFEFF]*\([\s\u200B\uFEFF]*([\[{][\s\S]*[\]}])[\s\u200B\uFEFF]*\);?[\s\u200B\uFEFF]*$/,n=i.test(this.data),a=o.test(this.data);if(this.debug&&console.log("JSONView: is_json="+n+" is_jsonp="+a),n||a){this.debug&&console.log("JSONView: sexytime!"),s.prototype={htmlEncode:function(e){return null!=e?e.toString().replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""},decorateWithSpan:function(e,t){return'<span class="'+t+'">'+this.htmlEncode(e)+"</span>"},valueToHTML:function(e){var t=typeof e,s="";return null===e?s+=this.decorateWithSpan("null","null"):e&&e.constructor===Array?s+=this.arrayToHTML(e):"object"===t?s+=this.objectToHTML(e):"number"===t?s+=this.decorateWithSpan(e,"num"):"string"===t?s+=/^(http|https):\/\/[^\s]+$/.test(e)?'<a href="'+e+'">'+this.htmlEncode(e)+"</a>":this.decorateWithSpan('"'+e+'"',"string"):"boolean"===t&&(s+=this.decorateWithSpan(e,"bool")),s},arrayToHTML:function(e){var t='[<ul class="array collapsible">',s=!1;for(var i in e)s=!0,t+="<li>",t+=this.valueToHTML(e[i]),t+="</li>";return t+="</ul>]",s||(t="[ ]"),t},objectToHTML:function(e){var t='{<ul class="obj collapsible">',s=!1;for(var i in e)s=!0,t+="<li>",t+='<span class="prop">'+this.htmlEncode(i)+"</span>: ",t+=this.valueToHTML(e[i]),t+="</li>";return t+="</ul>}",s||(t="{ }"),t},jsonToHTML:function(e,t,s){var i="";return t?(i+='<div class="callback">'+t+" (</div>",i+='<div id="json">'):i+='<div id="json">',i+=this.valueToHTML(e),i+="</div>",t&&(i+='<div class="callback">)</div>'),this.toHTML(i,s)},errorPage:function(e,t,s){var i='<div id="error">Error parsing JSON: '+e.message+"</div>";return i+="<h1>"+e.stack+":</h1>",i+='<div id="json">'+this.htmlEncode(t)+"</div>",this.toHTML(i,s+" - Error")},toHTML:function(e){return e}},this.jsonFormatter=new s;var r="",l="",u="",d=o.exec(this.data);d&&3===d.length?(this.debug&&console.log("THIS IS JSONp"),u=d[1],l=d[2]):(this.debug&&console.log("Vanilla JSON"),l=this.data),this.debug&&console.log(l);try{var c=JSON.parse(l);if(!c)throw"There was no object!";r=this.jsonFormatter.jsonToHTML(c,u)}catch(p){this.debug&&console.log(p),r=this.jsonFormatter.errorPage(p,this.data)}var h="<style type=\"text/css\">.jsonViewOutput .prop{font-weight:700;}.jsonViewOutput .null{color:red;}.jsonViewOutput .string{color:green;}.jsonViewOutput .collapser{position:absolute;left:-1em;cursor:pointer;}.jsonViewOutput li{position:relative;}.jsonViewOutput li:after{content:',';}.jsonViewOutput li:last-child:after{content:'';}.jsonViewOutput #error{-moz-border-radius:8px;border:1px solid #970000;background-color:#F7E8E8;margin:.5em;padding:.5em;}.jsonViewOutput .errormessage{font-family:monospace;}.jsonViewOutput #json{font-family:monospace;font-size:1.1em;}.jsonViewOutput ul{list-style:none;margin:0 0 0 2em;padding:0;}.jsonViewOutput h1{font-size:1.2em;}.jsonViewOutput .callback + #json{padding-left:1em;}.jsonViewOutput .callback{font-family:monospace;color:#A52A2A;}.jsonViewOutput .bool,.jsonViewOutput .num{color:blue;}</style>";void 0!==this.targetType&&(this.idType=this.targetType,this.id=this.target);var g;"class"===this.idType?(g=document.getElementsByClassName(this.id),g&&(g.className+=g.className?" jsonViewOutput":"jsonViewOutput",g.innerHTML=h+r)):"id"===this.idType&&(g=document.getElementById(this.id),g&&(g.className+=g.className?" jsonViewOutput":"jsonViewOutput",g.innerHTML=h+r),g.innerHTML=h+r);for(var m=document.getElementsByClassName("collapsible"),f=0;f<m.length;f++)addCollapser(m[f].parentNode)}}